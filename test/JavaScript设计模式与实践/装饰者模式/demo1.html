<!--
 * @Description: In User Settings Edit
 * @Author: your name
 * @Date: 2019-08-06 13:45:08
 * @LastEditTime: 2019-08-09 10:35:37
 * @LastEditors: Please set LastEditors
 -->

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>装饰者模式</title>
</head>

<body>
  <script>
    const {
      log
    } = console

    function Plane() {

    }
    Plane.prototype.fire = function () {
      log('发射普通子弹')
    }

    function MissileDecorator(plane) {
      this.plane = plane
    }
    MissileDecorator.prototype.fire = function () {
      this.plane.fire()
      log('发射导弹')
    }
    
    function AtomDecorator(plane) {
      this.plane=plane
    }
    AtomDecorator.prototype.fire = function () {
      this.plane.fire()
      log('发射原子弹')
    }
    var plane = new Plane();
    plane = new MissileDecorator(plane);
    plane = new AtomDecorator(plane);
    plane.fire()


    function fn1(){
      console.log(2)
    }
    function fn2(){
      console.log(1)
    }
    Function.prototype.before=function(fn){
      var self=this;
      return function () {
        fn.apply(this,arguments)
        self.apply(this,arguments)
        }
    }
    fn1.before(fn2)()
  </script>

</body>

</html>